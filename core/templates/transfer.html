{% extends 'base.html' %}
{% load static %}

{% block title %}Virement - DjanPay{% endblock %}

{% block content %}
<div class="transfer-container">
    <div class="transfer-card">

        <h2 class="transfer-title">ðŸ’¸ Effectuer un virement</h2>
        <p class="balance-text">Solde disponible : <strong>{{ balance }} â‚¬</strong></p>

        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <div class="alert {{ message.tags }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}

        <form method="post" autocomplete="off">
            {% csrf_token %}
            
            <div class="form-group">
                <label>Destinataire (nom d'utilisateur)</label>
                {{ form.receiver_username }}
            </div>

            <div class="form-group">
                <label>Montant (â‚¬)</label>
                {{ form.amount }}
            </div>

            <div class="form-group">
                <label>Description (optionnel)</label>
                {{ form.description }}
            </div>

            {% if form.errors %}
                <div class="error-box">
                    <p>âš  Merci de corriger les erreurs ci-dessous :</p>
                    {{ form.errors }}
                </div>
            {% endif %}

            <button type="submit" class="btn-primary">âœ¨ Confirmer le virement</button>
            <a href="{% url 'home' %}" class="btn-secondary">â¬… Retour</a>
        </form>
    </div>
</div>
{% endblock %}
